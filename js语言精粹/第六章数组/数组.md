# 第六章 数组
数组是一段线性分配的内存，它通过整数计算偏移并访问其中的元素。数组是一种性能出色的数据结构，但 Javascript 没有像此类数组一样的数据结构。  
Javascript 提供了一种拥有一些类数组特性的对象。它把数组的下标转变成字符串，用其作为属性。它比真正的数组慢，它的属性的检索和更新方式与对象一模一样，只不过多一个可以用整数作为属性名的特性。数组有自己的字面量格式。数组也有一套非常有用的内置方法。

## 数组字面量
数组字面量提供了一种非常方便地创建新数组的表示法。一个数组字面量是在一对方括号中包围零个或多个用逗号分隔的值得表达式。  
注意： Javascript 允许数组包含任意混合类型的值

## 长度
每个数组都有一个 length 属性。

* 如果你用大于或等于当前 length 的数字作为下标来存储一个元素，那么 length 值会被增大以容纳新元素，不会发生数组越界错误。    
* length 属性的值是这个数组的最大整数属性名加上 1。 它不一定等于数组里的属性的个数。
* 设置更大的 length 不会给数组分配更多的空间。而把 length 设小将导致所有下标大于等于新 length 的属性被删除。

注： [] 后置下标运算符把它所含的表达式转换成一个字符串，如果该表达式有 toString 方法，就使用该方法的值。这个字符串将被用做属性名。

## 删除
由于 Javascript 的数组其实就是对象，所以 delete 运算符可以用来从数组中移除元素。  
注意： 使用 delete 运算符删除了后，会在数组中留下一个空洞。且length 的值还是未减一。可使用数组内置的方式 splice 方法（使用 splice 方法删除属性对于大型数组来说效率不高）。

## 枚举
for in 语句可以用来遍历一个数组的所有属性，但是 for in 无法保证属性的顺序，此外还可能遍历原型链中的属性。  
解决： 使用 常规的 for 循环可以按照数组的顺序来遍历，且不会遍历原型中的属性。

## 容易混淆的地方
* 常见的错误： 在必须使用数组时使用了对象，或者在必须使用对象时使用了数组。（当属性名是小而连续的整数时，你应该使用数组。否则使用对象）
* Javascript 本身对于数组和对象的区别是混乱的。typeof 运算符报告数组的类型时 'object'，这没有任何意义（我们可以通过定义自己的 is_array 函数来弥补这个缺陷，如果使用了 Jquery ，Jquery 提供了判断的方法）

## 方法
Javascript 提供了一套数组可用的方法。这些方法是被存储在 Array.prototype 中的函数

## 指定初始值
访问一个不存在的元素，得到的值则是 undefined。如果在获取每个元素之前都初始化了它的值，就不会出现这个问题。
